---
title: "Take-home Exercise 1: Geospatial Analytics for Social Good: Application of Spatial and Spatio-temporal Point Patterns Analysis to discover the geographical distribution of Armed Conflict in Myanmar"
author: "Pan Mingwei"
date: "September 5, 2024"
date-modified: "last-modified"
execute: 
  eval: true
  echo: true
  warning: false
  freeze: true
---

# 1. Overview

Millions of people have their lives shattered by armed conflict – wars – every year.

Armed conflict has been on the rise since about 2012, after a decline in the 1990s and early 2000s. First came conflicts in Libya, Syria and Yemen, triggered by the 2011 Arab uprisings. Libya’s instability spilled south, helping set off a protracted crisis in the Sahel region. A fresh wave of major combat followed: the 2020 Azerbaijani-Armenian war over the Nagorno-Karabakh enclave, horrific fighting in Ethiopia’s northern Tigray region that began weeks later, the conflict prompted by the Myanmar army’s 2021 power grab and Russia’s 2022 assault on Ukraine. Add to those 2023’s devastation in Sudan and Gaza. Around the globe, more people are dying in fighting, being forced from their homes or in need of life-saving aid than in decades.

## 1.1 Objective

Geospatial analytics hold tremendous potential to address complex problems facing society. In this study, I will apply spatial point patterns analysis methods to discover the spatial and spatio-temporal distribution of armed conflict in Myanmar.

## 1.2 Data

### 1.2.1 Armed Conflict Data

For the purpose of this assignment, armed conflict data of Myanmar between 2021-2024 from [Armed Conflict Location & Event Data (ACLED)](https://acleddata.com/), an independent, impartial, international non-profit organization collecting data on violent conflict and protest in all countries and territories in the world, should be used.

In terms of event types, I will focus on at least four main event types, namely: Battles, Explosion/Remote violence, Strategic developments, and Violence against civilians.

In terms of study period, I will focus on quarterly armed conflict events from January 2021 until June 2024.

### 1.2.2 GIS Data

I will be using [**Myanmar State and Region Boundaries with Sub-regions MIMU v9.4**](http://geonode.themimu.info/layers/geonode%3Ammr_polbnda2_adm1_250k_mimu_1)because it provides more detailed geospatial data, including sub-regions. This will allow me to perform a more granular analysis.

## 
1.3 Importing Packages

The following R packages are used for this assignment:

-   **sf**, for importing, managing and processing geospatial data.

-   **tidyverse**, for importing, wrangling and visualising data.

-   **tmap**, to create thematic maps.

```{r}
pacman::p_load(sf,tidyverse,tmap)
```

# 2. Data Wrangling

## 2.1 Aspatial Data

```{r}
acled_sf <- read_csv("data/aspatial/ACLED_Myanmar.csv") %>%
  st_as_sf(coords = c(
    "longitude", "latitude"),
    crs=4326) %>%
  st_transform(crs = 32647) %>%
  mutate(event_date = dmy(event_date))
```

```{r}
head(acled_sf, n = 1)
```

## 2.2 Geospatial Data

```{r}
msrb_sub_reg <- st_read(dsn = "data/geospatial/mmr_polbnda2_adm1_250k_mimu_1", layer = "mmr_polbnda2_adm1_250k_mimu_1")
```

### 2.2.1 CRS Adjustments

Lets check what is the CRS for `msrb_sub_reg`.

```{r}
st_crs(msrb_sub_reg)
```

As from above, we can see that the original data is geographic coordinate system. We need to convert it to projected coordinate system. Since Myanmar is UTM zone 47(EPSG:32647), lets transform the CRS to `UTM Zone 47N`.

```{r}
msrb_sub_reg <- st_transform(msrb_sub_reg, crs = 32647)
st_crs(msrb_sub_reg)
```

### 2.2.2 Check and Clean Geospatial Data

To ensure that the geometries in the shapefile are valid and correct them if any invalid geometries found.

```{r}
# Check if the data are valid
st_is_valid(msrb_sub_reg)
# Fix invalid data
msrb_sub_reg <- st_make_valid(msrb_sub_reg)
```

### 2.2.3 Standardize Column Names

We can see that the column name are not descriptive.

```{r}
msrb_sub_reg
```

Rename the column name to more descriptive name and remove **ST_MMR** as it is in Burmese which will not be useful.

```{r}
msrb_sub_reg <- msrb_sub_reg %>%
  rename(state_name = ST,
         state_pcode = ST_PCODE,
         state_region = ST_RG,
         state_name_myanmar = ST_MMR) %>%
  select(-state_name_myanmar)
```

```{r}
summary(msrb_sub_reg)
```

### 2.2.4 Visualization

```{r}
tmap_mode("view")
tm_shape(msrb_sub_reg) + 
  tm_borders() +
  tm_fill("state_name")
# change back to plot
tmap_mode("plot")
```
